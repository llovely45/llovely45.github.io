{"_id":"hexo-douban-card-new","_rev":"1-05f8599ad7e86d780e7f1fc3209f3b4d","name":"hexo-douban-card-new","dist-tags":{"latest":"1.4.2"},"versions":{"1.4.1":{"name":"hexo-douban-card-new","version":"1.4.1","description":"Generate douban card for hexo with customized renderer.","main":"index.js","scripts":{},"keywords":["hexo","douban","blog"],"author":{"name":"TankNee, appotry","email":"nee@tanknee.cn","url":"https://www.tanknee.cn"},"license":"MIT","dependencies":{"cheerio":"^1.0.0-rc.3","hexo-fs":"^3.1.0","hexo-log":"^3.1.0","superagent":"^5.3.1"},"repository":{"type":"git","url":"git+https://github.com/appotry/hexo-douban-card.git"},"engines":{"hexo":">= 3.0.0"},"gitHead":"aed70728333165a079a231199e67477ffbe94e44","bugs":{"url":"https://github.com/appotry/hexo-douban-card/issues"},"homepage":"https://github.com/appotry/hexo-douban-card#readme","_id":"hexo-douban-card-new@1.4.1","_nodeVersion":"16.11.1","_npmVersion":"8.19.2","dist":{"integrity":"sha512-SdFjr/4EzcEcNj0BNST9zNgjNMRxxFDRMFGZOaFAB32Gbpk8dgtlHWrn5Yb3z3j0Si1AwaZBm2e+oRV5C+aVLg==","shasum":"f3f837b43c145796e8825c6ea18a80567041949a","tarball":"https://registry.npmjs.org/hexo-douban-card-new/-/hexo-douban-card-new-1.4.1.tgz","fileCount":47,"unpackedSize":149163,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIQCwcjlk0KzEdtYPKnKChKnAwZi3MW7JHTfP4uAaFTp+lgIgfmnem5eyQrKKieQMazTNOd44tbiS1tY6L6tnUM2w/Bc="}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJjZg13ACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2VmpHiA//V+Tqz6FCkmWRKW9lrsNiMlZ9y7DkKlIFwRe7qPJqGQCu5awe\r\nlQsj0hXKubWu9fUhzOUxaLxdUEh8iPNYkTkzPvrmEGrU/o5FRrZNGdJqmVCQ\r\nJP0HskMNnM1WCpEajimLLVbAudRLnwPMcOSoFujR9LfosWfucChT3e1UkGfm\r\noPfnpI8ANMXmv9lhKTxonhINgPOmtQ50e/KoM9EWBqpekuJ89opQJ1elj+p+\r\n/HKlvwc4gIeKhh0omNl3fmaKd0amLhV+e7BK4AKhAPLDj1R1w/qbuyFjxgNi\r\nSxU2QRwzV/2JmS9fJWlG9evKgPGyy0jHrRjRwu8MvawSJ+8X95KRpNdCAU0I\r\noGAIi2PXygKdUSpDd2iPI/WJrxKD7CytHGtKDnA1wtjkzkJUmn8/+oYTg/iw\r\nq1oIdVIuyukVd7o20KpWTstM6KW55XD/EMQUToTd1KEDKYlxko62W1+aKcG6\r\nPnpma+yxVbN4T6DHZnEmPUC1p59j5GVedUExRmxQRwX+b+3u0Hs5dsxzEv64\r\ngs8rH7HKz5e7hnX8HH/ZPlA3bMWmi+8noY+Pyzc4xgTCenxi8vnx4pYutkKg\r\n2rJoesYSXRdoioGL9NBganiwCGJgYcnrhMoB9ABauILiQPGZAyk1fHOYiAvU\r\nkXddmfFf4mTDdIIhE2ga/cDdlE7cxg9HLnM=\r\n=j130\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"bloodplus","email":"rollinghell@gmail.com"},"directories":{},"maintainers":[{"name":"bloodplus","email":"rollinghell@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/hexo-douban-card-new_1.4.1_1667632503616_0.014113464368584516"},"_hasShrinkwrap":false},"1.4.2":{"name":"hexo-douban-card-new","version":"1.4.2","description":"Generate douban card for hexo with customized renderer.","main":"index.js","scripts":{},"keywords":["hexo","douban","blog"],"author":{"name":"TankNee, appotry","email":"nee@tanknee.cn","url":"https://www.tanknee.cn"},"license":"MIT","dependencies":{"cheerio":"^1.0.0-rc.3","hexo-fs":"^3.1.0","hexo-log":"^3.1.0","superagent":"^5.3.1"},"repository":{"type":"git","url":"git+https://github.com/appotry/hexo-douban-card.git"},"engines":{"hexo":">= 3.0.0"},"gitHead":"aed70728333165a079a231199e67477ffbe94e44","bugs":{"url":"https://github.com/appotry/hexo-douban-card/issues"},"homepage":"https://github.com/appotry/hexo-douban-card#readme","_id":"hexo-douban-card-new@1.4.2","_nodeVersion":"16.11.1","_npmVersion":"8.19.2","dist":{"integrity":"sha512-n0QDHwtoi8BC0Y7zZ+lUHCgGKGGuKHuXEthBQZiF+KJHjebtgU6fC0QLIKfqp99L2Tvt+mIesZE+HqgxCq8r6Q==","shasum":"03b6006cefb82b3fce0d5d93db3aa0292560159a","tarball":"https://registry.npmjs.org/hexo-douban-card-new/-/hexo-douban-card-new-1.4.2.tgz","fileCount":58,"unpackedSize":183658,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIQD3i7uyn4B8Mh4Kpli+bnOWzIgZhuJbMa38SseCaFt9nAIgccp6hsuIyRWXgo93t0movHs9LgMQQpGioAjcvHxOy7g="}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJjZg9JACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2VmpVeg/+K9ejsrndlHeLSfizrUyh9b5JstNTYHBqP5+aYDQhsqEB3lCQ\r\n034U5nIXHXwLPsYiaojlovu06I+QisFMBAbfKjrkQ9IBONmbAOXDimWEls6h\r\nsOKf5GBoNbxgTFMe3zwS0Q+rrVmb/wtzXuZqKLd+uVtGUVN0kHfdSkE8mT4K\r\nvc/20F0uAQyuHs+Ce35iNlwIgpELWCXt+4/tb0U025ubLUJT1rTtISlz+hSW\r\nJxHwpuKr2rVvnJgrwyq1KspN4E4AgKMkS2IpBAM3CFshLbzzRkwkI/iGhbS4\r\nvjSFA3y31MyiyYtFw/IkGx7o/IBUG7ZvaTkZul+EduMsoVIrM3LUmwHktXEC\r\nHAw9dQwIvBD+RdH0LlciYlhekpaohijXBKMcXZmsChCDQz3Xn9VzvkOUbI/J\r\ncu3QKsE9/le7CINAEmfDe6YOfb/0DWmyI2W/gI+GxZVuYWh4NjdCLumAdm4G\r\nCI2picLGrM+Yy6ADWn4B/nwRHZGdL7DPJeJWVvUU36FW/hwDqRu41Wja8JFM\r\niqV+5BxuIf7j5yQVE57ywhB56R0ivLyyjUnxrLpLhwcicqlpzGuwcE+u2Jbn\r\n8JI+ZvRRBF7WSbn1M5evt+nBC60RHaoB/hHNKZwbWm4trHFxTZ4BVTqDK8kT\r\nfq019s5L4Iz8zDW8qlnCOIwv8aiknr1OklM=\r\n=J8Wd\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"bloodplus","email":"rollinghell@gmail.com"},"directories":{},"maintainers":[{"name":"bloodplus","email":"rollinghell@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/hexo-douban-card-new_1.4.2_1667632969084_0.8810614737437217"},"_hasShrinkwrap":false}},"time":{"created":"2022-11-05T07:15:03.615Z","1.4.1":"2022-11-05T07:15:03.821Z","modified":"2022-11-05T07:22:49.332Z","1.4.2":"2022-11-05T07:22:49.265Z"},"maintainers":[{"name":"bloodplus","email":"rollinghell@gmail.com"}],"description":"Generate douban card for hexo with customized renderer.","homepage":"https://github.com/appotry/hexo-douban-card#readme","keywords":["hexo","douban","blog"],"repository":{"type":"git","url":"git+https://github.com/appotry/hexo-douban-card.git"},"author":{"name":"TankNee, appotry","email":"nee@tanknee.cn","url":"https://www.tanknee.cn"},"bugs":{"url":"https://github.com/appotry/hexo-douban-card/issues"},"license":"MIT","readme":"## HEXO-DOUBAN-CARD\n\n一个 HEXO 插件,实现了用 HEXO 语法来在博客中插入一个豆瓣读书卡片的功能,现在实现了读书和电影两个板块\n\n[![NPM version](https://badge.fury.io/js/hexo-douban-card.svg)](https://www.npmjs.com/package/hexo-douban-card)\n[![npm](https://img.shields.io/npm/dt/hexo-douban-card.svg)](https://www.npmjs.com/package/hexo-douban-card)\n[![GitHub license](https://img.shields.io/github/license/TankNee/hexo-douban-card.svg)](https://github.com/TankNee/hexo-douban-card/blob/master/LICENSE)\n[![NPM](https://nodei.co/npm/hexo-douban-card.png)](https://nodei.co/npm/hexo-douban-card/)\n\n> 个人定制修改版。CSS 需要用户自己插入！ 其它和原版一样，方便性能优化！\n\n### 用法\n\n首先请安装插件\n\n```bash\n$ npm install hexo-douban-card --save\n```\n\n然后使用以下语法\n\n```markdown\n{% douban movie 24745500 %}\n\n{% douban book 30376420 %}\n\n{% douban music 35099703 %}\n```\n\n### 参数阐述\n\n- 第一项`douban` 代表插件名\n\n- 第二项可选:`movie`,`book`,`music`\n\n- 第三项请填入对应的`id`例如:\n\n![](https://img.tanknee.cn/blogpicbed/2020/07/2020070821522816eaefa.png)\n\n填写subject后面的那串数字就好\n\n### 示意图\n\n![](https://img.tanknee.cn/blogpicbed/2020/07/20200708f878ac4cfa250.png)\n\n### 作品站点\n\nhttps://www.tanknee.cn/2020/07/08/Hexo%E8%B1%86%E7%93%A3%E6%96%87%E7%AB%A0%E6%8F%92%E4%BB%B6/\n\n### 插件配置\n\n需要在 `_config.yml` 中配置 `doubanCard`，但这并不是必选项，如果你遇到了某些需要登录的豆瓣网址，那么请填写 cookie，如果你遇到图片代理失效的问题，请自行替换 imgProxy。未经验证的代理网址可以参考这个 issue：[图像加速服务weserv地址被reset了，不能显示图片](https://github.com/TankNee/hexo-douban-card/issues/22)\n\n\n```yml\n\ndoubanCard:\n  enable: true\n  cookie: ABCDEFGHIJKLMNOPQRSTUVWXYZ\n  imgProxy: https://images.weserv.nl/?url=\n\n```\n\n## 2022/08/30 更新\n\n~~添加了全局开关，现在可以直接在配置中开启或者关闭 douban-card，如果你想要关闭，请将 enable 设置为 false~~ 现已取消这个总开关。另外，本版本中卡片的样式改为一次性插入到页面head中，不再重复插入。\n\n## 2022/08/28 更新\n\n添加了一个背景懒加载属性，请配合[https://github.com/Troy-Yang/hexo-lazyload-image](https://github.com/Troy-Yang/hexo-lazyload-image)使用。\n\n## 2022/08/21 更新\n\n修复了构造器的问题，并将自定义图片代理的功能放入用户配置中，现在，你可以使用如下配置：\n\n```yml\n\ndoubanCard:\n  cookie: ABCDEFGHIJKLMNOPQRSTUVWXYZ\n  imgProxy: https://images.weserv.nl/?url=\n\n```\n\n## 2022/08/20 更新\n\n修复了缓存失效的问题，上一个版本由于对象键大小写的问题导致缓存无法正常工作，所以还是会有不断访问豆瓣网站的问题，该版本修复了这个问题。\n\n同时，本版本添加了部分日志，方便出错之后的调试工作。\n\n## 2022/08/06 更新\n\n添加了一个内容缓存文件，每次生成卡片的时候会优先从缓存文件中查找，若是找到了则直接使用，若没有则重新生成，这样做减少了对豆瓣网页的访问，降低了被当做机器人的概率。\n\n缓存文件名字为 `DoubanCard.json`，若爬取到的数据有误，可以直接把这个文件删了，或者手动修改这个文件。\n\n## 2022/02/13 更新\n\n使用自己编写的渲染器替换 nunjucks 渲染器，理论上是不会出现 #3 那个报错了，如果还出错请清空缓存，重新安装 hexo-douban-card 试试，还不行的话我也无能为力了。\n\n新增电影、书籍的阅读状态爬取，前提是你配置了 cookie，详情请参照 2020/09/17 更新的更新内容。\n\n![](https://img.tanknee.cn/blogpicbed/2022/02/13/2022021364172833e27c9.png)\n\n## 2020/09/17 更新\n\n**修复1.2.1中不使用cookie时出现报错无法编译的问题，该问题较为严重，希望1.2.1及以下版本的用户尽快更新！！！！**\n\n## 2020/09/01 更新\n\n当前版本(1.2.0)中修复了部分电影，音乐无法正常爬取的问题，例如电影《天浴》，id：1302836。\n无法爬取的原因在于电影需要登陆才可以正常爬取内容，因此当前版本添加了新的配置。如果你遇到了上述问题，请到hexo根目录下的`_config.yml`文件中，添加一项：\n\n```yaml\ndoubanCard:\n    cookie: xxxxx\n```\n然后将xxxx替换成你的cookie，cookie的获取办法是：\n\n1. 打开豆瓣网页，登陆账号\n\n2. 随便点击一个页面，然后打开控制台\n\n![](https://img.tanknee.cn/img/20200901185319.png)\n\n3. 将Cookie那一项的所有内容复制出来，放在配置文件中即可\n\n## 2020/07/13 更新\n\n某些特定的电影需要登陆才可以查看到对应的信息,1.1.8-c版本不做修改时会报生成错误,暂时只做冷处理,即显示一个提示图片,在下一个版本`1.2.0`中会做更优化的处理!\n\n![](https://img.tanknee.cn/blogpicbed/2020/07/20200713875399cbbb527.png)","readmeFilename":"README.md"}